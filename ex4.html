<!DOCTYPE html>

<head>
    <title>Exercicio 4</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="ex4.css">
</head>

<body>
    <form class="form">
        <div class="card">
            <div class="card-top">
                <h2>Cadastro</h2>
            </div>
            <div class="card-group">
                <label class="altura">Altura:</label>
                <input id="input-altura" type="text" placeholder="Ex:1.60" /><br><br>
            </div>
            <div class="card-group">
                <label class="peso">Peso:</label>
                <input id="input-peso" type="text" placeholder="Ex:60.8" /><br><br>
            </div>
            <div class="card-group">
                <button type="reset">Limpar</button>
                <button type="button" onclick="guardar()">Calculo</button>
            </div>
            <br>
            <div class="card-group">
                <input type="number" id="IMC" placeholder="IMCðŸ˜‚" />
            </div>
            <br>
            <table>
                <tbody>
                    <tr class="indice">
                        <td class="indice">IMC</td>
                        <td class="indice">Classificacao</td>
                        <td class="indice">Obesidade</td>
                    </tr>
                    <tr>
                        <td class="conteudo"> Menor que 18.5</td>
                        <td class="conteudo">Magreza</td>
                        <td class="conteudo">0</td>
                    </tr>
                    <tr>
                        <td class="conteudo"> Entre 18.5 e 24.9</td>
                        <td class="conteudo">Normal</td>
                        <td class="conteudo">0</td>
                    </tr>
                    <tr>
                        <td class="conteudo"> Entre 25 e 29.9</td>
                        <td class="conteudo">Sobrepeso</td>
                        <td class="conteudo">I</td>
                    </tr>
                    <tr>
                        <td class="conteudo"> Entre 30 e 39.9</td>
                        <td class="conteudo">Obesidade</td>
                        <td class="conteudo">II</td>
                    </tr>
                    <tr>
                        <td class="conteudo"> Maior que 40</td>
                        <td class="conteudo">Obesidade grave</td>
                        <td class="conteudo">III</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </form>
    <div class="erro" id="errou" style="display: none;">
    </div>
    <script>
        function guardar() {
            let altura = document.getElementById('input-altura');
            let peso = document.getElementById('input-peso');
            let IMC = parseFloat(peso.value) / (parseFloat(altura.value) * parseFloat(altura.value));
            let errou = document.getElementById('errou');

            try {
                if (altura.value.length == 0 || peso.value.length == 0) {
                    if (altura.value.length == 0) {
                        document.getElementById("errou").style.display = "contents";
                        altura.style = "border: 2px solid red;";
                        setTimeout(() => { altura.style = "border: 2px solid rgba(0, 0, 0, 0.726);" }, 600);
                    }
                    if (peso.value.length == 0) {
                        document.getElementById("errou").style.display = "contents";
                        peso.style = "border: 2px solid red;";
                        document.getElementById("errou").style.backgroundColor = "red";
                        setTimeout(() => { peso.style = "border: 2px solid rgba(0, 0, 0, 0.726);" }, 600);
                    }
                    else {
                        document.getElementById("errou").style.display = "contents";
                        altura.style = "border: 3px solid green;";
                        setTimeout(() => { altura.style = "border: 2px solid rgba(0, 0, 0, 0.726);" }, 600);
                        peso.style = "border: 3px solid green;";
                        setTimeout(() => { peso.style = "border: 2px solid rgba(0, 0, 0, 0.726);" }, 600);
                        document.getElementById("errou").style.backgroundColor = "green";
                        setTimeout(() => { errou.style = "background-color:white;" }, 600);
                    }
                }
            } catch (error) {
                alert("Arruma ai");
            }
            document.getElementById('IMC').value = IMC;
        }
    </script>
</body>

</html>